<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Book Dialysis Support - Teman Malaysia</title>
    <meta
      name="description"
      content="Book specialized support for dialysis treatments with Teman Malaysia. Understanding and experienced companions for your dialysis sessions."
    />

    <!-- Favicon -->
    <link rel="icon" type="image/png" href="../assets/images/favicon.png">
    <link rel="apple-touch-icon" href="../assets/images/apple-touch-icon.png">
    
    <!-- CSS -->
    <link rel="stylesheet" href="../assets/css/main.css">
    <link rel="stylesheet" href="../assets/css/responsive.css">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Roboto:wght@300;400;500;700&family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
      /* Reset and base styles */
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Inter", -apple-system, BlinkMacSystemFont, sans-serif;
        line-height: 1.6;
        color: #374151;
        background: #f9fafb;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 20px;
      }

      /* Header Styles */
      .header {
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(10px);
        box-shadow: 0 2px 20px rgba(0, 0, 0, 0.1);
        position: sticky;
        top: 0;
        z-index: 100;
        transition: all 0.3s ease;
      }

      .nav {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 16px 0;
      }

      .nav__logo {
        height: 40px;
        width: auto;
      }

      .btn {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        padding: 12px 24px;
        border-radius: 8px;
        font-weight: 500;
        text-decoration: none;
        border: none;
        cursor: pointer;
        transition: all 0.3s ease;
        font-size: 14px;
      }

      .btn--primary {
        background: #ef4444;
        color: white;
      }

      .btn--primary:hover {
        background: #dc2626;
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(239, 68, 68, 0.3);
      }

      .btn--outline {
        background: transparent;
        color: #ef4444;
        border: 2px solid #ef4444;
      }

      .btn--outline:hover {
        background: #ef4444;
        color: white;
        transform: translateY(-2px);
      }

      .btn--large {
        padding: 16px 32px;
        font-size: 16px;
      }

      .btn--secondary {
        background: #10b981;
        color: white;
      }

      .btn--secondary:hover {
        background: #059669;
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
      }

      /* Main Section */
      .booking-section {
        padding: 120px 0 80px 0;
        min-height: 100vh;
      }

      .booking__header {
        text-align: center;
        margin-bottom: 60px;
      }

      .booking__title {
        font-size: 3rem;
        font-weight: 700;
        color: #1f2937;
        margin-bottom: 16px;
      }

      .booking__subtitle {
        font-size: 1.25rem;
        color: #6b7280;
        max-width: 600px;
        margin: 0 auto;
      }

      .service-info-card {
        background: white;
        border-radius: 16px;
        padding: 32px;
        margin: 0 auto 40px auto;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
        border: 2px solid #e5f3ff;
        max-width: 800px;
      }

      .service-header {
        display: flex;
        align-items: center;
        gap: 20px;
        margin-bottom: 24px;
      }

      .service-icon {
        width: 60px;
        height: 60px;
        background: #ef4444;
        border-radius: 12px;
        display: flex;
        align-items: center;
        justify-content: center;
        flex-shrink: 0;
      }

      .service-icon i {
        font-size: 24px;
        color: white;
      }

      .service-header h2 {
        font-size: 1.75rem;
        font-weight: 600;
        color: #1f2937;
        margin: 0;
      }

      .service-features {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 16px;
        margin-top: 24px;
      }

      .feature-item {
        display: flex;
        align-items: center;
        gap: 8px;
        font-size: 14px;
        color: #4b5563;
      }

      .feature-item i {
        color: #10b981;
        font-size: 12px;
      }

      /* Progress Steps */
      .progress-steps {
        display: flex;
        justify-content: center;
        align-items: center;
        margin: 40px 0 60px 0;
        max-width: 600px;
        margin-left: auto;
        margin-right: auto;
        gap: 80px;
      }

      .step {
        display: flex;
        flex-direction: column;
        align-items: center;
      }

      .step__number {
        width: 50px;
        height: 50px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 600;
        font-size: 18px;
        background: #e5e7eb;
        color: #6b7280;
        border: 3px solid #e5e7eb;
        transition: all 0.3s ease;
        margin-bottom: 12px;
      }

      .step.active .step__number {
        background: #ef4444;
        color: white;
        border-color: #ef4444;
        box-shadow: 0 0 0 4px rgba(239, 68, 68, 0.1);
      }

      .step.completed .step__number {
        background: #10b981;
        color: white;
        border-color: #10b981;
      }

      .step__label {
        font-size: 14px;
        font-weight: 500;
        color: #6b7280;
        text-align: center;
        transition: color 0.3s ease;
        white-space: nowrap;
      }

      .step.active .step__label {
        color: #ef4444;
        font-weight: 600;
      }

      .step.completed .step__label {
        color: #10b981;
        font-weight: 600;
      }

      /* Form Container */
      .booking__container {
        max-width: 800px;
        margin: 0 auto;
        background: white;
        border-radius: 16px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
        overflow: hidden;
      }

      /* Form Styles */
      .booking-form {
        padding: 40px;
      }

      .form-step {
        display: none;
      }

      .form-step.active {
        display: block;
      }

      .step-title {
        font-size: 2rem;
        font-weight: 600;
        color: #1f2937;
        margin-bottom: 32px;
        text-align: center;
      }

      /* Package Selection */
      .package-options {
        display: grid;
        gap: 20px;
        margin-bottom: 40px;
      }

      .package-option {
        position: relative;
      }

      .package-option input[type="radio"] {
        position: absolute;
        opacity: 0;
        pointer-events: none;
      }

      .package-card {
        display: block;
        padding: 24px;
        border: 2px solid #e5e7eb;
        border-radius: 12px;
        cursor: pointer;
        transition: all 0.3s ease;
        background: white;
      }

      .package-card:hover {
        border-color: #ef4444;
        box-shadow: 0 4px 12px rgba(239, 68, 68, 0.1);
      }

      .package-option input[type="radio"]:checked + .package-card {
        border-color: #ef4444;
        background: #fef2f2;
        box-shadow: 0 4px 12px rgba(239, 68, 68, 0.1);
      }

      .package-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 16px;
      }

      .package-title {
        font-size: 1.25rem;
        font-weight: 600;
        color: #1f2937;
      }

      .package-price {
        font-size: 1.5rem;
        font-weight: 700;
        color: #ef4444;
      }

      .package-description {
        color: #6b7280;
        margin-bottom: 16px;
      }

      .hours-selection {
        margin-top: 16px;
        padding-top: 16px;
        border-top: 1px solid #e5e7eb;
      }

      .package-notes {
        margin-top: 16px;
        padding: 12px;
        background: #f9fafb;
        border-radius: 6px;
      }

      .package-notes small {
        display: block;
        color: #6b7280;
        margin-bottom: 4px;
      }

      /* Form Sections */
      .form-section {
        margin-bottom: 40px;
        padding: 24px;
        background: #f9fafb;
        border-radius: 12px;
      }

      .form-section-title {
        display: flex;
        align-items: center;
        gap: 12px;
        font-size: 1.25rem;
        font-weight: 600;
        color: #1f2937;
        margin-bottom: 24px;
      }

      .form-section-title i {
        color: #ef4444;
      }

      .form-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 20px;
      }

      .form-group {
        display: flex;
        flex-direction: column;
        margin-top: 10px;
      }

      .form-label {
        font-weight: 500;
        color: #374151;
        margin-bottom: 8px;
        font-size: 14px;
      }

      .form-input,
      .form-select,
      .form-textarea {
        padding: 12px;
        border: 1px solid #d1d5db;
        border-radius: 6px;
        font-size: 14px;
        transition: border-color 0.3s ease;
      }

      .form-input:focus,
      .form-select:focus,
      .form-textarea:focus {
        outline: none;
        border-color: #ef4444;
        box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.1);
      }

      .form-help {
        font-size: 12px;
        color: #6b7280;
        margin-top: 4px;
      }

      /* Radio and Checkbox Options */
      .radio-option,
      .checkbox-item {
        display: flex;
        align-items: flex-start;
        gap: 12px;
        padding: 16px;
        border: 1px solid #d1d5db;
        border-radius: 8px;
        cursor: pointer;
        transition: all 0.3s ease;
        margin-bottom: 12px;
      }

      .radio-option:hover,
      .checkbox-item:hover {
        border-color: #ef4444;
      }

      .radio-option input[type="radio"],
      .checkbox-item input[type="checkbox"] {
        position: absolute;
        opacity: 0;
        pointer-events: none;
      }

      .radio-custom,
      .checkmark {
        width: 20px;
        height: 20px;
        border: 2px solid #d1d5db;
        position: relative;
        flex-shrink: 0;
        transition: all 0.3s ease;
      }

      .radio-custom {
        border-radius: 50%;
      }

      .checkmark {
        border-radius: 4px;
      }

      .radio-option:hover .radio-custom,
      .checkbox-item:hover .checkmark {
        border-color: #ef4444;
      }

      .radio-option input[type="radio"]:checked ~ .radio-custom {
        border-color: #ef4444;
      }

      .radio-option input[type="radio"]:checked ~ .radio-custom::after {
        content: "";
        width: 8px;
        height: 8px;
        background: #ef4444;
        border-radius: 50%;
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
      }

      .checkbox-item input[type="checkbox"]:checked ~ .checkmark {
        background: #ef4444;
        border-color: #ef4444;
      }

      .checkbox-item input[type="checkbox"]:checked ~ .checkmark::after {
        content: "✓";
        color: white;
        font-size: 12px;
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
      }

      .radio-content strong {
        display: block;
        margin-bottom: 4px;
        color: #1f2937;
      }

      .radio-content p {
        font-size: 14px;
        color: #6b7280;
        margin: 0;
      }

      /* Checkbox Group */
      .checkbox-group {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 12px;
      }

      /* Form Actions */
      .form-actions {
        display: flex;
        justify-content: space-between;
        gap: 16px;
        margin-top: 40px;
      }

      /* Back Link */
      .back-link {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        color: #6b7280;
        text-decoration: none;
        margin-bottom: 24px;
        font-size: 14px;
        transition: color 0.3s ease;
      }

      .back-link:hover {
        color: #ef4444;
      }

      /* Responsive */
      @media (max-width: 768px) {
        .booking__title {
          font-size: 2rem;
        }

        .booking-form {
          padding: 24px;
        }

        .form-grid {
          grid-template-columns: 1fr;
        }

        .form-actions {
          flex-direction: column;
        }

        .service-header {
          flex-direction: column;
          text-align: center;
          align-items: center;
        }

        .service-icon {
          margin-bottom: 16px;
        }

        .progress-steps {
          margin: 30px 0 40px 0;
          gap: 40px;
        }

        .step__number {
          width: 40px;
          height: 40px;
          font-size: 16px;
        }

        .step__label {
          font-size: 12px;
        }

        .package-header {
          flex-direction: column;
          align-items: flex-start;
          gap: 8px;
        }
      }

      .text-center {
        text-align: center;
      }
    </style>
  </head>
  <body>
    <!-- Header Component -->
    <div id="header-placeholder"></div>

    <!-- Booking Section -->
    <section class="booking-section">
      <div class="container">
        <a href="booking.html" class="back-link">
          <i class="fas fa-arrow-left"></i>
          Back to Services
        </a>

        <div class="booking__header text-center">
          <h1 class="booking__title">Dialysis Treatment Support</h1>
          <p class="booking__subtitle">
            Specialized support for dialysis sessions with understanding and experienced companions
          </p>
        </div>

        <!-- Service Information Card -->
        <div class="service-info-card">
          <div class="service-header">
            <div class="service-icon">
              <i class="fas fa-heartbeat"></i>
            </div>
            <h2>TEMAN to Dialysis Treatments</h2>
          </div>
          <p>Get compassionate support during your dialysis treatments with our experienced companions who understand the unique needs of dialysis patients and provide comfort throughout your sessions.</p>
          
          <div class="service-features">
            <div class="feature-item">
              <i class="fas fa-check"></i>
              Transportation to dialysis center
            </div>
            <div class="feature-item">
              <i class="fas fa-check"></i>
              Companionship during treatment
            </div>
            <div class="feature-item">
              <i class="fas fa-check"></i>
              Assistance with mobility
            </div>
            <div class="feature-item">
              <i class="fas fa-check"></i>
              Support for multiple sessions
            </div>
            <div class="feature-item">
              <i class="fas fa-check"></i>
              Pre and post-treatment care
            </div>
            <div class="feature-item">
              <i class="fas fa-check"></i>
              Medication reminders
            </div>
          </div>
        </div>

        <div class="booking__container">
          <!-- Progress Steps -->
          <div class="progress-steps" id="progressSteps">
            <div class="step active" data-step="1">
              <div class="step__number">1</div>
              <div class="step__label">Package</div>
            </div>
            <div class="step" data-step="2">
              <div class="step__number">2</div>
              <div class="step__label">Details</div>
            </div>
            <div class="step" data-step="3">
              <div class="step__number">3</div>
              <div class="step__label">Confirm</div>
            </div>
          </div>

          <!-- Booking Form -->
          <form id="dialysis-booking-form" class="booking-form" data-form-type="dialysis">
            <!-- Step 1: Package Selection -->
            <div class="form-step active" data-step="1">
              <h2 class="step-title">Choose Your Package</h2>

              <div class="package-options">
                <div class="package-option">
                  <input
                    type="radio"
                    name="package"
                    value="hourly"
                    id="hourly-package"
                    required
                  />
                  <label for="hourly-package" class="package-card">
                    <div class="package-header">
                      <div class="package-title">Hourly Rate</div>
                      <div class="package-price">RM35/hour</div>
                    </div>
                    <div class="package-description">
                      Flexible hourly booking for individual dialysis sessions or specific support needs.
                    </div>
                    
                    <div class="hours-selection" style="display: none">
                      <label for="hours" class="form-label">Number of Hours: *</label>
                      <select name="hours" id="hours" class="form-select">
                        <option value="">Select hours</option>
                        <option value="2">2 hours - RM70</option>
                        <option value="3">3 hours - RM105</option>
                        <option value="4">4 hours - RM140</option>
                        <option value="5">5 hours - RM175</option>
                        <option value="6">6 hours - RM210</option>
                        <option value="custom">More than 6 hours (Contact us)</option>
                      </select>
                    </div>
                    
                    <div class="package-notes">
                      <small>• Perfect for occasional dialysis support</small>
                      <small>• Flexible scheduling</small>
                    </div>
                  </label>
                </div>

                <div class="package-option">
                  <input
                    type="radio"
                    name="package"
                    value="package1"
                    id="package1"
                  />
                  <label for="package1" class="package-card">
                    <div class="package-header">
                      <div class="package-title">3-Session Package</div>
                      <div class="package-price">RM186</div>
                    </div>
                    <div class="package-description">
                      6-hour package suitable for 3 dialysis sessions - perfect for regular treatment schedules.
                    </div>
                    
                    <div class="package-notes">
                      <small>• 6 hours total (2 hours per session)</small>
                      <small>• Valid for 60 days</small>
                      <small>• Best value for regular treatments</small>
                    </div>
                  </label>
                </div>

                <div class="package-option">
                  <input
                    type="radio"
                    name="package"
                    value="companion"
                    id="companion-package"
                  />
                  <label for="companion-package" class="package-card">
                    <div class="package-header">
                      <div class="package-title">Companion During Treatment</div>
                      <div class="package-price">RM30/hour</div>
                    </div>
                    <div class="package-description">
                      Optional companionship service while you receive your dialysis treatment at the center.
                    </div>
                    
                    <div class="hours-selection" style="display: none">
                      <label for="companion-hours" class="form-label">Number of Hours: *</label>
                      <select name="companion_hours" id="companion-hours" class="form-select">
                        <option value="">Select hours</option>
                        <option value="2">2 hours - RM60</option>
                        <option value="3">3 hours - RM90</option>
                        <option value="4">4 hours - RM120</option>
                        <option value="5">5 hours - RM150</option>
                        <option value="6">6 hours - RM180</option>
                      </select>
                    </div>
                    
                    <div class="package-notes">
                      <small>• Emotional support during treatment</small>
                      <small>• Help with entertainment/activities</small>
                      <small>• Assistance with basic needs</small>
                    </div>
                  </label>
                </div>
              </div>

              <div style="background: #fef2f2; padding: 16px; border-radius: 8px; margin-bottom: 32px;">
                <h4 style="color: #dc2626; margin-bottom: 8px;">Additional Information:</h4>
                <small style="display: block; color: #dc2626; margin-bottom: 4px;">• Transportation fee: RM0.80/KM or e-hailing fare</small>
                <small style="display: block; color: #dc2626; margin-bottom: 4px;">• All remaining hours can be used before 60 days</small>
                <small style="display: block; color: #dc2626;">• Surcharge: RM37/hour for Public Holiday/Sunday/last minute booking</small>
              </div>

              <div class="form-actions">
                <button
                  type="button"
                  class="btn btn--primary btn--large"
                  onclick="nextStep()"
                >
                  Continue to Details
                  <i class="fas fa-arrow-right"></i>
                </button>
              </div>
            </div>
            <!-- Step 2: Personal Details -->
            <div class="form-step" data-step="2">
              <h2 class="step-title">Booking Details</h2>

              <!-- Contact Information -->
              <div class="form-section">
                <h3 class="form-section-title">
                  <i class="fas fa-user"></i>
                  Contact Information
                </h3>
                <div class="form-grid">
                  <div class="form-group">
                    <label for="full-name" class="form-label">Full Name *</label>
                    <input
                      type="text"
                      id="full-name"
                      name="full_name"
                      class="form-input"
                      placeholder="Enter your full name"
                      required
                    />
                  </div>

                  <div class="form-group">
                    <label for="relationship" class="form-label">Relationship to Care Recipient</label>
                    <select id="relationship" name="relationship" class="form-select">
                      <option value="">Select relationship</option>
                      <option value="self">Self</option>
                      <option value="spouse">Spouse</option>
                      <option value="child">Son/Daughter</option>
                      <option value="parent">Parent</option>
                      <option value="sibling">Brother/Sister</option>
                      <option value="relative">Other Relative</option>
                      <option value="caregiver">Professional Caregiver</option>
                      <option value="friend">Friend</option>
                      <option value="other">Other</option>
                    </select>
                  </div>

                  <div class="form-group">
                    <label for="phone" class="form-label">Phone Number *</label>
                    <input
                      type="tel"
                      id="phone"
                      name="phone"
                      class="form-input"
                      placeholder="+60 11-234 5678"
                      required
                    />
                  </div>

                  <div class="form-group">
                    <label for="email" class="form-label">Email Address *</label>
                    <input
                      type="email"
                      id="email"
                      name="email"
                      class="form-input"
                      placeholder="your.email@example.com"
                      required
                    />
                    <small class="form-help">Use company email if claiming staff benefit</small>
                  </div>
                   <div class="form-group">
                    <label for="employer" class="form-label">Employer Name</label>
                    <input
                      type="text"
                      id="employer"
                      name="employer"
                      class="form-input"
                      
                    />
                    <small class="form-help">For those claiming for Staff Benefit only</small>
                  </div>

                  <div class="form-group">
                    <label for="staff_id" class="form-label">Staff ID</label>
                    <input
                      type="text"
                      id="staff_id"
                      name="staff_id"
                      class="form-input"
                      
                    />
                    <small class="form-help">For those claiming for Staff Benefit only</small>
                  </div>
                </div>

                <div class="form-group">
                  <label for="emergency-contact" class="form-label">Emergency Contact Person *</label>
                  <input
                    type="text"
                    id="emergency-contact"
                    name="emergency_contact"
                    class="form-input"
                    placeholder="Name and phone number of emergency contact"
                    required
                  />
                </div>
              </div>

              <!-- Care Recipient Information -->
              <div class="form-section">
                <h3 class="form-section-title">
                  <i class="fas fa-heart-pulse"></i>
                  Care Recipient Information
                </h3>
                <div class="form-grid">
                  <div class="form-group">
                    <label for="patient-name" class="form-label">Care Recipient Name</label>
                    <input
                      type="text"
                      id="patient-name"
                      name="patient_name"
                      class="form-input"
                      placeholder="If different from contact person"
                    />
                  </div>

                  <div class="form-group">
                    <label for="patient-age" class="form-label">Care Recipient Age</label>
                    <input
                      type="number"
                      id="patient-age"
                      name="patient_age"
                      class="form-input"
                      min="1"
                      max="120"
                      placeholder="Age in years"
                    />
                  </div>

                  <div class="form-group">
                    <label for="patient-gender" class="form-label">Gender</label>
                    <select id="patient-gender" name="patient_gender" class="form-select">
                      <option value="male">Male</option>
                      <option value="female">Female</option>
                    </select>
                  </div>

                  <div class="form-group">
                    <label for="patient-language" class="form-label">Preferred Language</label>
                    <select id="patient-language" name="patient_language" class="form-select">
                      <option value="english">English</option>
                      <option value="bahasa">Bahasa Malaysia</option>
                      <option value="other">Other</option>
                    </select>
                  </div>
                  <div class="form-group">
                    <label for="patient-weight" class="form-label">Care Recipient Weight</label>
                    <input
                      type="number"
                      id="patient-weight"
                      name="patient_weight"
                      class="form-input"
                      placeholder="Weight in kg"
                    />
                  </div>
                  <div class="form-group">
                    <label for="patient-height" class="form-label">Care Recipient Height</label>
                    <input
                      type="number"
                      id="patient-height"
                      name="patient_height"
                      class="form-input"
                      placeholder="Height in cm"
                    />
                  </div>
                </div>
              </div>

              <!-- Dialysis Information -->
              <div class="form-section">
                <h3 class="form-section-title">
                  <i class="fas fa-hospital"></i>
                  Dialysis Treatment Details
                </h3>
                <div class="form-grid">
                  <div class="form-group">
                    <label for="dialysis-center" class="form-label">Dialysis Center *</label>
                    <input
                      type="text"
                      id="dialysis-center"
                      name="dialysis_center"
                      class="form-input"
                      placeholder="Name of dialysis center/hospital"
                      required
                    />
                  </div>

                  <div class="form-group">
                    <label for="dialysis-type" class="form-label">Type of Dialysis</label>
                    <select id="dialysis-type" name="dialysis_type" class="form-select">
                      <option value="">Select dialysis type</option>
                      <option value="hemodialysis">Hemodialysis</option>
                      <option value="peritoneal">Peritoneal Dialysis</option>
                      <option value="home-hemodialysis">Home Hemodialysis</option>
                      <option value="other">Other</option>
                    </select>
                  </div>

                  <div class="form-group">
                    <label for="treatment-frequency" class="form-label">Treatment Frequency</label>
                    <select id="treatment-frequency" name="treatment_frequency" class="form-select">
                      <option value="">Select frequency</option>
                      <option value="3-times-week">3 times per week</option>
                      <option value="2-times-week">2 times per week</option>
                      <option value="daily">Daily</option>
                      <option value="other">Other schedule</option>
                    </select>
                  </div>

                  <div class="form-group">
                    <label for="session-duration" class="form-label">Typical Session Duration</label>
                    <select id="session-duration" name="session_duration" class="form-select">
                      <option value="">Select duration</option>
                      <option value="3-hours">3 hours</option>
                      <option value="4-hours">4 hours</option>
                      <option value="5-hours">5 hours</option>
                      <option value="6-hours">6+ hours</option>
                      <option value="varies">Varies</option>
                    </select>
                  </div>

                  <div class="form-group">
                    <label for="treatment-days" class="form-label">Treatment Days</label>
                    <div class="checkbox-group">
                      <label class="checkbox-item">
                        <input type="checkbox" name="treatment_days[]" value="monday" />
                        <span class="checkmark"></span>
                        Monday
                      </label>
                      <label class="checkbox-item">
                        <input type="checkbox" name="treatment_days[]" value="tuesday" />
                        <span class="checkmark"></span>
                        Tuesday
                      </label>
                      <label class="checkbox-item">
                        <input type="checkbox" name="treatment_days[]" value="wednesday" />
                        <span class="checkmark"></span>
                        Wednesday
                      </label>
                      <label class="checkbox-item">
                        <input type="checkbox" name="treatment_days[]" value="thursday" />
                        <span class="checkmark"></span>
                        Thursday
                      </label>
                      <label class="checkbox-item">
                        <input type="checkbox" name="treatment_days[]" value="friday" />
                        <span class="checkmark"></span>
                        Friday
                      </label>
                      <label class="checkbox-item">
                        <input type="checkbox" name="treatment_days[]" value="saturday" />
                        <span class="checkmark"></span>
                        Saturday
                      </label>
                    </div>
                  </div>

                  <div class="form-group">
                    <label for="preferred-time" class="form-label">Preferred Treatment Time</label>
                    <select id="preferred-time" name="preferred_time" class="form-select">
                      <option value="">Select time slot</option>
                      <option value="morning">Morning (6:00 AM - 12:00 PM)</option>
                      <option value="afternoon">Afternoon (12:00 PM - 6:00 PM)</option>
                      <option value="evening">Evening (6:00 PM - 12:00 AM)</option>
                      <option value="flexible">Flexible</option>
                    </select>
                  </div>

                  <div class="form-group">
                    <label for="next-appointment" class="form-label">Next Appointment Date</label>
                    <input
                      type="date"
                      id="next-appointment"
                      name="next_appointment"
                      class="form-input"
                    />
                  </div>

                  <div class="form-group">
                    <label for="appointment-time" class="form-label">Next Appointment Time</label>
                    <input
                      type="time"
                      id="appointment-time"
                      name="appointment_time"
                      class="form-input"
                    />
                  </div>
                </div>
              </div>

              <!-- Location Information -->
              <div class="form-section">
                <h3 class="form-section-title">
                  <i class="fas fa-map-marker-alt"></i>
                  Location Details
                </h3>
                <div class="form-group">
                  <label for="center-address" class="form-label">Dialysis Center Address *</label>
                  <textarea
                    id="center-address"
                    name="center_address"
                    class="form-textarea"
                    rows="3"
                    placeholder="Complete address of the dialysis center"
                    required
                  ></textarea>
                </div>

                <div class="form-group">
                  <label for="pickup-address" class="form-label">Pickup Address *</label>
                  <textarea
                    id="pickup-address"
                    name="pickup_address"
                    class="form-textarea"
                    rows="3"
                    placeholder="Address where our Temanion should meet you"
                    required
                  ></textarea>
                </div>

                <div class="form-grid">
                  <div class="form-group">
                    <label for="pickup-time" class="form-label">Preferred Pickup Time</label>
                    <input
                      type="time"
                      id="pickup-time"
                      name="pickup_time"
                      class="form-input"
                    />
                    <small class="form-help">We recommend 30-45 minutes before treatment time</small>
                  </div>

                  <div class="form-group">
                    <label for="return-address" class="form-label">Return Address</label>
                    <input
                      type="text"
                      id="return-address"
                      name="return_address"
                      class="form-input"
                      placeholder="If different from pickup address"
                    />
                  </div>
                </div>
              </div>

              <!-- Transportation -->
              <div class="form-section">
                <h3 class="form-section-title">
                  <i class="fas fa-car"></i>
                  Transportation for Activities
                </h3>
                <div style="display: grid; gap: 12px;">
                  <label class="radio-option">
                    <input type="radio" name="transportation_mode" value="client-provided" required />
                    <span class="radio-custom"></span>
                    <div class="radio-content">
                      <strong>I will provide transportation</strong>
                    </div>
                  </label>

                  <label class="radio-option">
                    <input type="radio" name="transportation_mode" value="teman-provided" required />
                    <span class="radio-custom"></span>
                    <div class="radio-content">
                      <strong>Temanion will arrange transportation</strong>
                    </div>
                  </label>

                  <label class="radio-option">
                    <input type="radio" name="transportation_mode" value="e-hailing" required />
                    <span class="radio-custom"></span>
                    <div class="radio-content">
                      <strong>E-Hailing Service (Grab/Taxi)</strong>
                    </div>
                  </label>

                  
                </div>

                <div class="form-group" style="margin-top: 16px">
                  <label for="transportation-notes" class="form-label">Transportation Notes</label>
                  <textarea
                    id="transportation-notes"
                    name="transportation_notes"
                    class="form-textarea"
                    rows="2"
                    placeholder="Any specific transportation preferences, accessibility needs, or special instructions..."
                  ></textarea>
                </div>
              </div>

              <!-- Medical Information -->
              <div class="form-section">
                <h3 class="form-section-title">
                  <i class="fas fa-notes-medical"></i>
                  Medical & Care Information
                </h3>

                <div class="form-group">
                  <label for="medical-conditions" class="form-label">Related Medical Conditions</label>
                  <textarea
                    id="medical-conditions"
                    name="medical_conditions"
                    class="form-textarea"
                    rows="3"
                    placeholder="Please list diabetes, hypertension, heart conditions, or other health concerns related to dialysis..."
                  ></textarea>
                </div>

                <div class="form-group">
                  <label for="medications" class="form-label">Current Medications</label>
                  <textarea
                    id="medications"
                    name="medications"
                    class="form-textarea"
                    rows="2"
                    placeholder="List current medications, especially those related to dialysis treatment..."
                  ></textarea>
                </div>

                <div class="form-group">
                  <label for="dietary-restrictions" class="form-label">Dietary Restrictions</label>
                  <textarea
                    id="dietary-restrictions"
                    name="dietary_restrictions"
                    class="form-textarea"
                    rows="2"
                    placeholder="Fluid restrictions, potassium limits, phosphorus restrictions, etc..."
                  ></textarea>
                </div>

                <div class="form-group">
                    <label for="mobility-assistance" class="form-label">Mobility Assistance Needed</label>
                    <select id="mobility-assistance" name="mobility_assistance" class="form-select">
                      <option value="no-preference">None</option>
                      <option value="female">Wheelchair assistance</option>
                      <option value="male">Walker/walking aid</option>
                      <option value="male">Walking assistance</option>
                      <option value="male">Other</option>
                    </select>
                  </div>

                <div class="form-group">
                  <label for="special-requirements" class="form-label">Special Requirements</label>
                  <textarea
                    id="special-requirements"
                    name="special_requirements"
                    class="form-textarea"
                    rows="3"
                    placeholder="Any specific dialysis-related needs, emergency procedures, allergies, or other important information..."
                  ></textarea>
                </div>
              </div>

              <!-- Companion Preferences -->
              <div class="form-section">
                <h3 class="form-section-title">
                  <i class="fas fa-user-friends"></i>
                  Companion Preferences
                </h3>

                <div class="form-grid">
                  <div class="form-group">
                    <label for="companion-gender" class="form-label">Preferred Gender</label>
                    <select id="companion-gender" name="companion_gender" class="form-select">
                      <option value="no-preference">No preference</option>
                      <option value="female">Female</option>
                      <option value="male">Male</option>
                    </select>
                  </div>

                  <div class="form-group">
                    <label for="companion-language" class="form-label">Language Preference</label>
                    <select id="companion-language" name="companion_language" class="form-select">
                      <option value="english">English</option>
                      <option value="bahasa">Bahasa Malaysia</option>
                      <option value="other">Other</option>
                    </select>
                  </div>

                  <div class="form-group">
                    <label for="companion-experience" class="form-label">Experience Level</label>
                    <select id="companion-experience" name="companion_experience" class="form-select">
                      <option value="any">Any experience level</option>
                      <option value="dialysis-experienced">Dialysis experience preferred</option>
                      <option value="medical-background">Medical background preferred</option>
                    </select>
                  </div>
                </div>

                <div class="form-group">
                  <label for="companion-activities" class="form-label">Preferred Activities During Treatment</label>
                  <div class="checkbox-group">
                    <label class="checkbox-item">
                      <input type="checkbox" name="companion_activities[]" value="conversation" />
                      <span class="checkmark"></span>
                      Conversation/companionship
                    </label>
                    <label class="checkbox-item">
                      <input type="checkbox" name="companion_activities[]" value="reading" />
                      <span class="checkmark"></span>
                      Reading assistance
                    </label>
                    <label class="checkbox-item">
                      <input type="checkbox" name="companion_activities[]" value="entertainment" />
                      <span class="checkmark"></span>
                      Entertainment (music, videos)
                    </label>
                    <label class="checkbox-item">
                      <input type="checkbox" name="companion_activities[]" value="quiet-presence" />
                      <span class="checkmark"></span>
                      Quiet presence/monitoring
                    </label>
                    <label class="checkbox-item">
                      <input type="checkbox" name="companion_activities[]" value="snacks-drinks" />
                      <span class="checkmark"></span>
                      Help with snacks/drinks
                    </label>
                  </div>
                </div>
              </div>

              <!-- Additional Information -->
              <div class="form-section">
                <h3 class="form-section-title">
                  <i class="fas fa-comment-dots"></i>
                  Additional Information
                </h3>

                <div class="form-group">
                  <label for="treatment-schedule" class="form-label">Regular Treatment Schedule</label>
                  <textarea
                    id="treatment-schedule"
                    name="treatment_schedule"
                    class="form-textarea"
                    rows="3"
                    placeholder="Please describe your regular dialysis schedule (e.g., Monday, Wednesday, Friday at 8:00 AM)..."
                  ></textarea>
                </div>

                <div class="form-group">
                  <label for="additional-notes" class="form-label">Additional Notes</label>
                  <textarea
                    id="additional-notes"
                    name="additional_notes"
                    class="form-textarea"
                    rows="4"
                    placeholder="Any other information, concerns, or special requests related to your dialysis treatment support..."
                  ></textarea>
                </div>

                 <div class="form-group">
                  <label for="how-heard" class="form-label">How did you hear about us?</label>
                  <select id="how-heard" name="how_heard" class="form-select">
                    <option value="google">Google Search</option>
                    <option value="facebook">Facebook</option>
                    <option value="instagram">Instagram</option>
                    <option value="friend">Friend/Family Referral</option>
                    <option value="doctor">Doctor/Medical Professional</option>
                    <option value="hospital">Hospital/Clinic</option>
                    <option value="newspaper">Newspaper/Magazine</option>
                    <option value="radio">Radio</option>
                    <option value="other">Other</option>
                  </select>
                </div>
              </div>

              <div class="form-actions">
                <button type="button" class="btn btn--outline btn--large" onclick="prevStep()">
                  <i class="fas fa-arrow-left"></i>
                  Previous
                </button>
                <button type="button" class="btn btn--primary btn--large" onclick="nextStep()">
                  Review Booking
                  <i class="fas fa-arrow-right"></i>
                </button>
              </div>

            </div>
            <!-- Step 3: Confirmation -->
            <div class="form-step" data-step="3">
              <h2 class="step-title">Booking Summary</h2>

              <div class="booking-summary">
                <div class="summary-card">
                  <h3><i class="fas fa-clipboard-list"></i> Service Details</h3>
                  <div class="summary-item">
                    <span class="summary-label">Service:</span>
                    <span class="summary-value">Dialysis Treatment Support</span>
                  </div>
                  <div class="summary-item">
                    <span class="summary-label">Package:</span>
                    <span class="summary-value" id="summary-package">-</span>
                  </div>
                  <div class="summary-item">
                    <span class="summary-label">Dialysis Center:</span>
                    <span class="summary-value" id="summary-center">-</span>
                  </div>
                  <div class="summary-item">
                    <span class="summary-label">Treatment Schedule:</span>
                    <span class="summary-value" id="summary-schedule">-</span>
                  </div>
                  <div class="summary-item">
                    <span class="summary-label">Transportation:</span>
                    <span class="summary-value" id="summary-transportation">-</span>
                  </div>
                  <div class="summary-divider"></div>
                  <div class="summary-item total">
                    <span class="summary-label">Estimated Cost:</span>
                    <span class="summary-value" id="summary-total">RM 0</span>
                  </div>
                  <p class="cost-note">
                    *Final cost may vary based on additional services and transportation fees
                  </p>
                </div>

                <div class="summary-card">
                  <h3><i class="fas fa-user"></i> Contact Information</h3>
                  <div class="summary-item">
                    <span class="summary-label">Name:</span>
                    <span class="summary-value" id="summary-name">-</span>
                  </div>
                  <div class="summary-item">
                    <span class="summary-label">Phone:</span>
                    <span class="summary-value" id="summary-phone">-</span>
                  </div>
                  <div class="summary-item">
                    <span class="summary-label">Email:</span>
                    <span class="summary-value" id="summary-email">-</span>
                  </div>
                  <div class="summary-item">
                    <span class="summary-label">Pickup Address:</span>
                    <span class="summary-value" id="summary-pickup">-</span>
                  </div>
                </div>
              </div>

              <div style="background: #fef2f2; border: 1px solid #fecaca; border-radius: 12px; padding: 24px; margin-bottom: 32px;">
                <h3 style="display: flex; align-items: center; gap: 8px; color: #dc2626; margin-bottom: 16px;">
                  <i class="fas fa-info-circle"></i> What Happens Next?
                </h3>
                <ul style="list-style: none; padding: 0;">
                  <li style="display: flex; align-items: center; gap: 12px; margin-bottom: 12px; color: #dc2626;">
                    <i class="fas fa-phone" style="width: 20px; text-align: center;"></i>
                    Our team will contact you within 24 hours to confirm details and provide quotation
                  </li>
                  <li style="display: flex; align-items: center; gap: 12px; margin-bottom: 12px; color: #dc2626;">
                    <i class="fas fa-user-check" style="width: 20px; text-align: center;"></i>
                    We will assign a Temanion familiar with dialysis care
                  </li>
                  <li style="display: flex; align-items: center; gap: 12px; margin-bottom: 12px; color: #dc2626;">
                    <i class="fas fa-calendar-check" style="width: 20px; text-align: center;"></i>
                    You will receive confirmation with your Temanion's details
                  </li>
                  <li style="display: flex; align-items: center; gap: 12px; color: #dc2626;">
                    <i class="fas fa-heartbeat" style="width: 20px; text-align: center;"></i>
                    Your companion will provide support for your dialysis sessions
                  </li>
                </ul>
              </div>

              <div style="margin-bottom: 32px;">
                <label style="display: flex; align-items: flex-start; gap: 12px; cursor: pointer;">
                  <input type="checkbox" name="terms_agreed" required style="position: absolute; opacity: 0; pointer-events: none;" />
                  <span class="checkmark"></span>
                  <span style="font-size: 14px; color: #374151;">
                    I agree to the <a href="#" style="color: #ef4444; text-decoration: none;">Terms & Conditions</a> and 
                    <a href="#" style="color: #ef4444; text-decoration: none;">Privacy Policy</a>
                  </span>
                </label>
              </div>

              <div class="form-actions">
                <button type="button" class="btn btn--outline btn--large" onclick="prevStep()">
                  <i class="fas fa-arrow-left"></i>
                  Previous
                </button>
                <button type="submit" class="btn btn--primary btn--large" id="submit-booking-btn">
                  <i class="fas fa-paper-plane"></i>
                  Submit Booking Request
                </button>
              </div>
            </div>
          </form>
        </div>
      </div>
    </section>

    <!-- Success Modal -->
    <div id="booking-success-modal" class="modal" style="display: none">
      <div class="modal-content">
        <div class="success-icon">
          <i class="fas fa-check-circle"></i>
        </div>
        <h2>Booking Request Submitted!</h2>
        <p>
          Thank you for choosing Teman Malaysia for your dialysis treatment support. 
          We've received your booking request and will contact you within 24 hours to confirm the details.
        </p>
        <div class="booking-reference">
          <strong>Reference Number: <span id="booking-ref-number"></span></strong>
        </div>
        <div class="modal-actions">
          <button class="btn btn--primary" onclick="window.location.href='booking.html'">
            Book Another Service
          </button>
          <button class="btn btn--outline" onclick="closeModal()">Close</button>
        </div>
      </div>
    </div>

    <!-- Footer Component -->
    <div id="footer-placeholder"></div>

    <!-- Scripts -->
    <script>
      // Current step tracking
      let currentStep = 1;
      const totalSteps = 3;

      // Update progress steps visual state
      function updateProgressSteps() {
        const steps = document.querySelectorAll(".step");

        steps.forEach((step, index) => {
          const stepNumber = index + 1;
          step.classList.remove("active", "completed");

          if (stepNumber < currentStep) {
            step.classList.add("completed");
          } else if (stepNumber === currentStep) {
            step.classList.add("active");
          }
        });
      }

      // Navigate to next step
      function nextStep() {
        if (currentStep < totalSteps) {
          if (validateCurrentStep()) {
            document.querySelector(`.form-step[data-step="${currentStep}"]`).classList.remove("active");
            currentStep++;
            document.querySelector(`.form-step[data-step="${currentStep}"]`).classList.add("active");
            updateProgressSteps();

            if (currentStep === 3) {
              updateBookingSummary();
            }

            window.scrollTo({ top: 0, behavior: "smooth" });
          }
        }
      }

      // Navigate to previous step
      function prevStep() {
        if (currentStep > 1) {
          document.querySelector(`.form-step[data-step="${currentStep}"]`).classList.remove("active");
          currentStep--;
          document.querySelector(`.form-step[data-step="${currentStep}"]`).classList.add("active");
          updateProgressSteps();
          window.scrollTo({ top: 0, behavior: "smooth" });
        }
      }

      // Validate current step
      function validateCurrentStep() {
        if (currentStep === 1) {
          const packageSelected = document.querySelector('input[name="package"]:checked');
          if (!packageSelected) {
            alert("Please select a package before continuing.");
            return false;
          }

          if (packageSelected.value === "hourly" && !document.getElementById("hours").value) {
            alert("Please select the number of hours.");
            return false;
          }

          if (packageSelected.value === "companion" && !document.getElementById("companion-hours").value) {
            alert("Please select the number of companion hours.");
            return false;
          }
        } else if (currentStep === 2) {
          const requiredFields = ["full_name", "phone", "email", "emergency_contact", "dialysis_center", "center_address", "pickup_address"];

          for (let field of requiredFields) {
            const element = document.querySelector(`[name="${field}"]`);
            if (!element.value.trim()) {
              alert(`Please fill in the ${field.replace("_", " ")} field.`);
              element.focus();
              return false;
            }
          }

          const transportationSelected = document.querySelector('input[name="transportation_mode"]:checked');
          if (!transportationSelected) {
            alert("Please select a transportation mode.");
            return false;
          }
        }
        return true;
      }

      // Update booking summary
      function updateBookingSummary() {
        // Package details
        const selectedPackage = document.querySelector('input[name="package"]:checked');
        if (selectedPackage) {
          let packageInfo = "";
          let estimatedCost = 0;

          if (selectedPackage.value === "hourly") {
            const hours = document.getElementById("hours").value;
            packageInfo = `Hourly Rate - ${hours} hours`;
            estimatedCost = hours * 35;
          } else if (selectedPackage.value === "package1") {
            packageInfo = "3-Session Package (6 hours total)";
            estimatedCost = 186;
          } else if (selectedPackage.value === "companion") {
            const hours = document.getElementById("companion-hours").value;
            packageInfo = `Companion During Treatment - ${hours} hours`;
            estimatedCost = hours * 30;
          }

          document.getElementById("summary-package").textContent = packageInfo;
          document.getElementById("summary-total").textContent = `RM ${estimatedCost}`;
        }

        // Dialysis center
        document.getElementById("summary-center").textContent = 
          document.getElementById("dialysis-center").value || "-";

        // Treatment schedule
        const nextAppointment = document.getElementById("next-appointment").value;
        const appointmentTime = document.getElementById("appointment-time").value;
        const treatmentFreq = document.getElementById("treatment-frequency").value;
        
        let scheduleText = "";
        if (nextAppointment && appointmentTime) {
          const formattedDate = new Date(nextAppointment).toLocaleDateString("en-MY", {
            weekday: "long", year: "numeric", month: "long", day: "numeric"
          });
          scheduleText = `Next: ${formattedDate} at ${appointmentTime}`;
        } else if (treatmentFreq) {
          scheduleText = treatmentFreq.replace("-", " ");
        }
        document.getElementById("summary-schedule").textContent = scheduleText || "-";

        // Transportation
        const transportation = document.querySelector('input[name="transportation_mode"]:checked');
        if (transportation) {
          const transportLabel = transportation.nextElementSibling.nextElementSibling.querySelector("strong").textContent;
          document.getElementById("summary-transportation").textContent = transportLabel;
        }

        // Contact information
        document.getElementById("summary-name").textContent = 
          document.getElementById("full-name").value || "-";
        document.getElementById("summary-phone").textContent = 
          document.getElementById("phone").value || "-";
        document.getElementById("summary-email").textContent = 
          document.getElementById("email").value || "-";
        document.getElementById("summary-pickup").textContent = 
          document.getElementById("pickup-address").value || "-";
      }

      // Handle package selection
      document.addEventListener("DOMContentLoaded", function () {
        // Show/hide hours selection for different packages
        document.addEventListener("change", function (e) {
          if (e.target.name === "package") {
            const hoursSelections = document.querySelectorAll(".hours-selection");
            hoursSelections.forEach(selection => {
              selection.style.display = "none";
            });

            if (e.target.value === "hourly") {
              document.querySelector("#hourly-package + .package-card .hours-selection").style.display = "block";
            } else if (e.target.value === "companion") {
              document.querySelector("#companion-package + .package-card .hours-selection").style.display = "block";
            }
          }
        });

        // Set minimum date to today
        const today = new Date().toISOString().split("T")[0];
        const nextAppointmentField = document.getElementById("next-appointment");
        if (nextAppointmentField) {
          nextAppointmentField.setAttribute("min", today);
        }

        // Initialize progress steps
        updateProgressSteps();
      });

      // Handle form submission
      document.getElementById("dialysis-booking-form").addEventListener("submit", function (e) {
        e.preventDefault();

        const termsAgreed = document.querySelector('input[name="terms_agreed"]:checked');
        if (!termsAgreed) {
          alert("Please agree to the Terms & Conditions and Privacy Policy to continue.");
          return;
        }

        const refNumber = "TM" + Date.now().toString().slice(-6);
        document.getElementById("booking-ref-number").textContent = refNumber;
        document.getElementById("booking-success-modal").style.display = "flex";

        console.log("Dialysis treatment booking submitted successfully");
      });

      // Close modal function  
      function closeModal() {
        document.getElementById("booking-success-modal").style.display = "none";
      }

      // Load header and footer components
      async function loadComponents() {
        try {
          const headerResponse = await fetch("../components/header.html");
          if (headerResponse.ok) {
            const headerHTML = await headerResponse.text();
            document.getElementById("header-placeholder").innerHTML = headerHTML;

            setTimeout(() => {
              const bookingLink = document.querySelector('a[href="booking.html"]');
              if (bookingLink) {
                bookingLink.classList.add("active");
              }
              initializeNavigation();
            }, 100);
          }

          const footerResponse = await fetch("../components/footer.html");
          if (footerResponse.ok) {
            const footerHTML = await footerResponse.text();
            document.getElementById("footer-placeholder").innerHTML = footerHTML;
          }

          initializeMainJS();
        } catch (error) {
          console.error("Error loading components:", error);
        }
      }

      // Initialize navigation functionality
      function initializeNavigation() {
        const navToggle = document.getElementById("nav-toggle");
        const navMenu = document.getElementById("nav-menu");

        if (navToggle && navMenu) {
          navToggle.addEventListener("click", () => {
            navMenu.classList.toggle("show");
            const icon = navToggle.querySelector("i");
            if (navMenu.classList.contains("show")) {
              icon.className = "fas fa-times";
            } else {
              icon.className = "fas fa-bars";
            }
          });

          document.querySelectorAll(".nav__link").forEach((link) => {
            link.addEventListener("click", () => {
              navMenu.classList.remove("show");
              const icon = navToggle.querySelector("i");
              if (icon) icon.className = "fas fa-bars";
            });
          });

          document.addEventListener("click", (e) => {
            if (!navToggle.contains(e.target) && !navMenu.contains(e.target)) {
              navMenu.classList.remove("show");
              const icon = navToggle.querySelector("i");
              if (icon) icon.className = "fas fa-bars";
            }
          });
        }

        window.addEventListener("scroll", () => {
          const header = document.getElementById("header");
          if (header) {
            if (window.scrollY > 100) {
              header.style.background = "rgba(255, 255, 255, 0.98)";
              header.style.boxShadow = "0 2px 20px rgba(0, 0, 0, 0.1)";
            } else {
              header.style.background = "rgba(255, 255, 255, 0.95)";
              header.style.boxShadow = "none";
            }
          }
        });
      }

      function initializeMainJS() {
        console.log("Teman Malaysia dialysis treatment booking loaded successfully!");
      }

      document.addEventListener("DOMContentLoaded", function () {
        loadComponents();
      });
    </script>
    <script src="../assets/js/main.js"></script>
  </body>
</html>